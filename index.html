<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Syllabus Tracker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f7f9fc;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    #container {
      width: 100%;
      max-width: 720px;
      height: 100%;
      max-height: 1280px;
      background: #f7f9fc;
      border: 1px solid #ddd;
      display: flex;
      flex-direction: column;
    }

    header {
      background: #4caf50;
      color: white;
      text-align: center;
      padding: 15px;
    }

    h1 {
      margin: 0;
      font-size: 24px;
    }

    main {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
    }

    .subject {
      margin-bottom: 20px;
      padding: 15px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 8px;
    }

    .subject h2 {
      margin: 0;
    }

    ul {
      list-style: none;
      padding: 0;
      margin: 10px 0 0 0;
    }

    li {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
    }

    li input[type="checkbox"] {
      margin-right: 10px;
    }

    footer {
      background: #4caf50;
      color: white;
      text-align: center;
      padding: 10px;
    }

    #progress-bar-container {
      width: 90%;
      margin: 10px auto;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    #progress-bar {
      width: 0;
      height: 100%;
      background: #4caf50;
      transition: width 0.5s;
    }

    #progress-percentage {
      margin-top: 5px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div id="container">
    <header>
      <h1>CBSE Class 9 Syllabus Tracker</h1>
    </header>
    <main id="subjects-container"></main>
    <footer>
      <div id="progress-bar-container">
        <div id="progress-bar"></div>
      </div>
      <p id="progress-percentage">0% completed</p>
    </footer>
  </div>

  <script>
    const syllabus = {
      Mathematics: [
        "Number Systems", "Polynomials", "Coordinate Geometry", 
        "Linear Equations in Two Variables", "Introduction to Euclid's Geometry", 
        "Lines and Angles", "Triangles", "Quadrilaterals", "Circles", 
        "Heron's Formula", "Surface Areas and Volumes", "Statistics"
      ],
      Science: {
        Physics: ["Motion", "Force and Laws of Motion", "Gravitation", "Work and Energy", "Sound"],
        Chemistry: ["Matter in Our Surroundings", "Is Matter Around Us Pure", "Atoms and Molecules", "Structure of the Atom"],
        Biology: ["The Fundamental Unit of Life", "Tissues", "Improvement in Food Resources"]
      },
      "Social Science": {
        History: ["The French Revolution", "Socialism in Europe", "Nazism and the Rise of Hitler", "Forest Society and Colonialism"],
        Geography: ["India - Size and Location", "Physical Features of India", "Drainage", "Climate"],
        "Political Science": ["What is Democracy?", "Constitutional Design", "Electoral Politics", "Democratic Rights"],
        Economics: ["Poverty as a Challenge", "Food Security in India"]
      },
      English: {
        Prose: ["The Fun They Had", "The Sound of Music", "The Little Girl", "A Truly Beautiful Mind"],
        Poems: ["The Road Not Taken", "Wind", "Rain on the Roof", "No Men Are Foreign"]
      }
    };

    const progressData = JSON.parse(localStorage.getItem("progressData")) || {};

    const subjectsContainer = document.getElementById("subjects-container");

    function renderSyllabus() {
      subjectsContainer.innerHTML = "";
      let completed = 0;
      let total = 0;

      Object.keys(syllabus).forEach(subject => {
        const subjectDiv = document.createElement("div");
        subjectDiv.className = "subject";

        const subjectTitle = document.createElement("h2");
        subjectTitle.textContent = subject;
        subjectDiv.appendChild(subjectTitle);

        const topicList = document.createElement("ul");
        if (Array.isArray(syllabus[subject])) {
          syllabus[subject].forEach(topic => {
            total++;
            const topicItem = createTopicItem(subject, null, topic);
            if (progressData[subject]?.[topic]) completed++;
            topicList.appendChild(topicItem);
          });
        } else {
          Object.keys(syllabus[subject]).forEach(subsection => {
            const subsectionTitle = document.createElement("h3");
            subsectionTitle.textContent = subsection;
            topicList.appendChild(subsectionTitle);

            syllabus[subject][subsection].forEach(topic => {
              total++;
              const topicItem = createTopicItem(subject, subsection, topic);
              if (progressData[subject]?.[subsection]?.[topic]) completed++;
              topicList.appendChild(topicItem);
            });
          });
        }

        subjectDiv.appendChild(topicList);
        subjectsContainer.appendChild(subjectDiv);
      });

      updateProgress(completed, total);
    }

    function createTopicItem(subject, subsection, topic) {
      const listItem = document.createElement("li");
      const checkbox = document.createElement("input");
      checkbox.type = "checkbox";
      checkbox.checked = subsection 
        ? progressData[subject]?.[subsection]?.[topic] 
        : progressData[subject]?.[topic];

      checkbox.addEventListener("change", () => {
        if (!progressData[subject]) progressData[subject] = {};
        if (subsection && !progressData[subject][subsection]) progressData[subject][subsection] = {};

        if (subsection) progressData[subject][subsection][topic] = checkbox.checked;
        else progressData[subject][topic] = checkbox.checked;

        localStorage.setItem("progressData", JSON.stringify(progressData));
        renderSyllabus();
      });

      listItem.appendChild(checkbox);
      listItem.appendChild(document.createTextNode(topic));
      return listItem;
    }

    function updateProgress(completed, total) {
      const progressBar = document.getElementById("progress-bar");
      const progressPercentage = document.getElementById("progress-percentage");

      const percentage = total ? Math.round((completed / total) * 100) : 0;
      progressBar.style.width = `${percentage}%`;
      progressPercentage.textContent = `${percentage}% completed`;
    }

    renderSyllabus();
  </script>
</body>
</html>
